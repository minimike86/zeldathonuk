<div class="side-panel spt">
  <ng-container *ngIf="(currentGame$ | async) as currentGame">
    <div class="d-flex flex-column spt-game-panel-container-bm">

      <div class="spt-game-img-container">
        <img class="spt-game-img"
             alt="Cover Art"
             [ngStyle]="{ 'top.px': pos }"
             [src]="zeldaGame?.gameDetail?.boxArt">
      </div>

      <div class="spt-game p-2">

        <div class="spt-game-panel">

          <div class="d-flex justify-content-center spt-game-text">
            <div class="d-flex flex-column align-self-center">
              <h1 class="text-center mb-0" style="overflow-wrap: break-word; line-height: 0.95em;">
                {{ zeldaGame?.gameDetail?.title?.includes(':') ? zeldaGame?.gameDetail?.title?.split(':')[0] + ':' : zeldaGame?.gameDetail?.title | uppercase }}
              </h1>
              <h1 class="text-center mb-0" style="overflow-wrap: break-word; line-height: 0.95em;">
                {{ zeldaGame?.gameDetail?.title?.split(':')[1] | uppercase }}
              </h1>
            </div>
          </div>

          <div class="spt-type">
            <div class="spt-type-text text-center"
                 style="width: 100%;">
              <ng-container *ngFor="let badge of zeldaGame?.badges">
                <div class="badge mx-1" [ngClass]="" [title]="badge.tooltip">
                  {{ badge.name }}
                </div>
              </ng-container>
            </div>
          </div>

          <div class="d-flex justify-content-center spt-platform mt-2">

            <div class="d-flex justify-content-center text-center spt-platform-content"
                 style="height:30px; width: 90%;">
              <div style="width: 33%;">
                <div class="spt-platform-text br-l p-1">
                  {{ zeldaGame?.platform?.includes('Nintendo') ? zeldaGame?.platform?.replace('Nintendo', '') : zeldaGame?.platform }}
                </div>
                <div class="small text-shadow-black">
                  Platform
                </div>
              </div>
              <div style="width: 33%;">
                <div class="spt-platform-text align-items-center br-m mx-1 p-1">
                  {{ (zeldaGame?.gameDetail?.detail.releases.EU !== null ? zeldaGame?.gameDetail?.detail.releases.EU :
                      zeldaGame?.gameDetail?.detail.releases.NA !== null ? zeldaGame?.gameDetail?.detail.releases.NA :
                      zeldaGame?.gameDetail?.detail.releases.JP !== null ? zeldaGame?.gameDetail?.detail.releases.JP : 'N/A').split(',')[1]?.trim() | date: 'yyyy' }}
                </div>
                <div class="small text-shadow-black">
                  Release Year
                </div>
              </div>
              <div style="width: 33%;">
                <div class="spt-platform-text br-r p-1">
                  {{ getTimeToBeatMainStory(zeldaGame?.gameDetail) }}
                </div>
                <div class="small text-shadow-black">
                  Estimate
                </div>
              </div>
            </div>

          </div>

        </div>

      </div>

    </div>
  </ng-container>
</div>
